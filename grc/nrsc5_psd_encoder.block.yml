# auto-generated by grc.converter

id: nrsc5_psd_encoder
label: PSD encoder
category: '[NRSC-5]'

parameters:
-   id: prog_num
    label: Program number
    dtype: int
    default: 0
-   id: title
    label: Title
    dtype: string
    default: Title
-   id: artist
    label: Artist
    dtype: string
    default: Artist
-   id: bytes_per_frame
    label: Bytes/frame limit
    dtype: int
    default: 0
    options: [0, 64, 128]

inputs:
-   domain: message
    id: clock
    optional: true
-   domain: message
    id: set_meta
    optional: true

inputs:
-   domain: message
    id: set_meta
    optional: true
outputs:
-   domain: stream
    dtype: byte
asserts:
- ${ 0 <= prog_num <= 7 }

templates:
    imports: import nrsc5
    make: nrsc5.psd_encoder(${prog_num}, ${title}, ${artist}, ${bytes_per_frame})

documentation: |-
    Accepts messages starting with 'title' or 'artist' to set the respective fields.

file_format: 1
